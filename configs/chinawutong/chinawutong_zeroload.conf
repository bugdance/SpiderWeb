{
    "site"    : "中国物通网",

    "domains" : ["chinawutong.com"],

    "urls"    : [

        "http://www.chinawutong.com/201t1/",
        "http://www.chinawutong.com/201t2/"
    ],

    "rules": {
        "#1" : {
            "follow": true,
            "xpath": "//*[contains(@class,'profootli') and contains(.//a,'更多')]"

        },

        "#2" : {
            "follow": true,
            "regex": "p([0-9]).html",
            "xpath": "//*[contains(@class,'anpager')][2]//a"

        },
        "#3" : {
            "follow": false,
            "regex": "/s([0-9]+)/",
            "xpath": "//*[contains(@class,'profoot')]//a"

        }


    },

    "loop": "//*[contains(@class,'listal')]//*[contains(.//ul/@class,'companyul')]",


    "fields": {
                "url":      {"name": "url",     "xpath": ".//*[contains(@class,'zhuanxian')][1]//*[contains(@class,'fb')]//a/@href", "parse": {"type": "sub", "from": "(.*)", "to": "http://www.chinawutong.com\\g<1>"}},
                "delivery_address":     {"name": "delivery_address",     "xpath": ".//*[contains(@class,'zhuanxian')][1]//*[contains(@class,'fb')]//a", "parse": [{"type": "text"},{"type": "sub", "from": "\\s+", "to": ""}]},
                "delivery_province":        {"name": "delivery_province",     "xpath": ".//*[contains(@class,'zhuanxian')][1]//*[contains(@class,'fb')]//a/@href", "parse": [{"type": "sub", "from": "(.*)", "to": "http://www.chinawutong.com\\g<1>"},{"type": "continue"}]},
                "delivery_city":        {"name": "delivery_city",     "xpath": ".//*[contains(@class,'zhuanxian')][1]//*[contains(@class,'fb')]//a/@href", "parse": [{"type": "sub", "from": "(.*)", "to": "http://www.chinawutong.com\\g<1>"},{"type": "continue"}]},
                "delivery_county":      {"name": "delivery_county",    "xpath": ".//*[contains(@class,'zhuanxian')][1]//*[contains(@class,'fb')]//a/@href", "parse": [{"type": "sub", "from": "(.*)", "to": "http://www.chinawutong.com\\g<1>"},{"type": "continue"}]},
                "receiver_address":     {"name": "receiver_address",     "xpath": ".//*[contains(@class,'zhuanxian')][2]//*[contains(@class,'fb')]//a", "parse": [{"type": "text"},{"type": "sub", "from": "\\s+", "to": ""}]},
                "receiver_province":        {"name": "receiver_province",     "xpath": ".//*[contains(@class,'zhuanxian')][1]//*[contains(@class,'fb')]//a/@href", "parse": [{"type": "sub", "from": "(.*)", "to": "http://www.chinawutong.com\\g<1>"},{"type": "continue"}]},
                "receiver_city":        {"name": "receiver_city",     "xpath": ".//*[contains(@class,'zhuanxian')][1]//*[contains(@class,'fb')]//a/@href", "parse": [{"type": "sub", "from": "(.*)", "to": "http://www.chinawutong.com\\g<1>"},{"type": "continue"}]},
                "receiver_county":      {"name": "receiver_county",    "xpath": ".//*[contains(@class,'zhuanxian')][1]//*[contains(@class,'fb')]//a/@href", "parse": [{"type": "sub", "from": "(.*)", "to": "http://www.chinawutong.com\\g<1>"},{"type": "continue"}]},
                "heavy":        {"name": "heavy",     "xpath": ".//*[contains(@class,'name')]//p[contains(.,'重货')]", "regex": "：(.*)", "default": "", "parse": [{"type": "text"},{"type": "sub", "from": "\\s+", "to": ""}]},
                "low":      {"name": "low",     "xpath": ".//*[contains(@class,'name')]//p[contains(.,'轻货')]","regex": "：(.*)",  "default": "", "parse": [{"type": "text"},{"type": "sub", "from": "\\s+", "to": ""}]},
                "time":     {"name": "time",     "xpath": ".//*[contains(@class,'name')]//*[contains(@class,'shixiao')]", "default": "", "parse": [{"type": "text"},{"type": "sub", "from": "\\s+", "to": " "}]},
                "price":        {"name": "price",     "xpath": ".//*[contains(@class,'name')]//p[contains(.,'最低一票')]","regex": "：(.*)", "default": "", "parse": [{"type": "text"},{"type": "sub", "from": "\\s+", "to": " "}]},
                "corp_name":        {"name": "corp_name",     "xpath": ".//*[contains(@class,'zhuanxian')][1]//*[contains(@class,'fb')]//a/@href", "parse": [{"type": "sub", "from": "(.*)", "to": "http://www.chinawutong.com\\g<1>"},{"type": "continue"}]},
                "linkman":      {"name": "linkman",     "xpath": ".//*[contains(@class,'zhishu')]//p[last()]", "default": "", "parse": [{"type": "text"},{"type": "sub", "from": "\\s+", "to": ""}]},
                "phone":        {"name": "phone",     "xpath": ".//*[contains(@class,'wxtfio')]//*[contains(@class,'jj')]", "regex": "\\d{4}-\\d{7}|\\d{3}-\\d{8}","default": ""},
                "mobile":       {"name": "mobile",     "xpath": ".//*[contains(@class,'wxtfio')]//*[contains(@class,'jj')]", "regex": "\\d{11}", "default": ""},
                "corp_address":     {"name": "corp_address",     "xpath": ".//*[contains(@class,'wxtfio')]//*[contains(@class,'coare')]", "regex": "：(.*)", "default": "", "parse": {"type": "sub", "from": "\\s+", "to": ""}},
                "website":  {"name": "website",     "value": "${SITE}"},
                "scraped_time":     {"name": "scraped_time",     "value": "${TODAY}"}
    },


    "continue": {
        "fields": {
                "corp_name":        {"name": "corp_name",     "xpath": "//*[contains(@class,'zxinfo_c')]//*[contains(@class,'co')]//a", "parse": [{"type": "text"},{"type": "sub", "from": "\\s+", "to": ""}]},
                "delivery_province":        {"name": "delivery_province",     "xpath": "//*[contains(@class,'zxinfo_c')]//*[contains(@class,'theall')]//*[@class='l']//tr[2]//td[2]", "parse": [{"type": "text"},{"type": "sub", "from": "\\s+", "to": ""},{"type": "sub", "from": "(.*)-(.*)-(.*)", "to": "\\g<1>"}]},
                "delivery_city":        {"name": "delivery_city",     "xpath": "//*[contains(@class,'zxinfo_c')]//*[contains(@class,'theall')]//*[@class='l']//tr[2]//td[2]", "parse": [{"type": "text"},{"type": "sub", "from": "\\s+", "to": ""},{"type": "sub", "from": "(.*)-(.*)-(.*)", "to": "\\g<2>"}]},
                "delivery_county":      {"name": "delivery_county",     "xpath": "//*[contains(@class,'zxinfo_c')]//*[contains(@class,'theall')]//*[@class='l']//tr[2]//td[2]", "parse": [{"type": "text"},{"type": "sub", "from": "\\s+", "to": ""},{"type": "sub", "from": "(.*)-(.*)-(.*)", "to": "\\g<3>"}]},
                "receiver_province":        {"name": "receiver_province",     "xpath": "//*[contains(@class,'zxinfo_c')]//*[contains(@class,'theall')]//*[@class='r']//tr[2]//td[2]", "parse": [{"type": "text"},{"type": "sub", "from": "\\s+", "to": ""},{"type": "sub", "from": "(.*)-(.*)-(.*)", "to": "\\g<1>"}]},
                "receiver_city":        {"name": "receiver_city",     "xpath": "//*[contains(@class,'zxinfo_c')]//*[contains(@class,'theall')]//*[@class='r']//tr[2]//td[2]", "parse": [{"type": "text"},{"type": "sub", "from": "\\s+", "to": ""},{"type": "sub", "from": "(.*)-(.*)-(.*)", "to": "\\g<2>"}]},
                "receiver_county":      {"name": "receiver_county",     "xpath": "//*[contains(@class,'zxinfo_c')]//*[contains(@class,'theall')]//*[@class='r']//tr[2]//td[2]", "parse": [{"type": "text"},{"type": "sub", "from": "\\s+", "to": ""},{"type": "sub", "from": "(.*)-(.*)-(.*)", "to": "\\g<3>"}]}
        }
    },

    "settings" : {

                "mysql": "mysql://root:logis2017@localhost:33306/web.bak_wldl_zeroload",
                "download_timeout": 60,
                "download_delay": 10

    }


}
