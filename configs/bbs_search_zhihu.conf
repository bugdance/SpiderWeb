{
    "site"    : "知乎",

    "domains" : ["zhihu.com"],

    "urls"    : {

            "base": "http://www.zhihu.com/search?type=content&q=%E5%BF%AB%E9%80%92",
            "keywords": {
                    "name": "q",
                    "xxxfile": "/mnt/datadisk1/www/spider.56dili.cn/scripts/configs/keyword.txt",
                    "file": "/var/www/spider.56dili.cn/scripts/configs/keyword.txt",
                    "enc": "utf-8"
            }
    },

    "rules": {
        "#1" : {
            "follow": null,
            "xpath": "//*[contains(@class,'related-topics')]//*[contains(@class,'grid')]//a[contains(@href,'top-answers')]"

        },
        "#2" : {
            "follow": null,
            "xpath": "//*[contains(@class,'pager')]//a"

        }



    },

    "loop": "//*[contains(@class,'feed-main')]",

    "fields": {
                "website":  {"name": "website",     "value": "${SITE}"},
                "search_word":  {"name": "search_word",     "xpath": "//*[contains(@id,'topic-title')]//h1", "parse": [{"type": "text"},{"type": "sub", "from": "\\s+", "to": " "}]},
                "article_title":        {"name": "article_title",       "xpath": "//*[contains(@class,'QuestionHeader-title')]", "parse": [{"type": "text"},{"type": "sub", "from": "\\s+", "to": " "}]},
                "article_time":     {"name": "article_time",     "value": "${TODAY}"},
                "article_src":  {"name": "article_src",     "value": "${SITE}"},
                "visit_count":  {"name": "visit_count",     "value": 0},
                "favorite_count":   {"name": "favorite_count",     "value": 0},
                "share_count":  {"name": "share_count",     "value": 0},
                "reply_count":  {"name": "reply_count",     "value": 0},
                "isreply":  {"name": "isreply",     "value": 0},
                "article_url":      {"name": "article_url",     "xpath": ".//h2//a/@href", "parse": [{"type": "sub", "from": "(.*)", "to": "http://www.zhihu.com\\g<1>"},{"type": "continue"}]},
                "article_content":      {"name": "article_content",     "xpath": "//*[contains(@class,'QuestionHeader-detail')]", "parse": [{"type": "clean"},{"type": "text"},{"type": "sub", "from": "\\s+", "to": " "}]}
    },

    "continue": {
        "fields": {
                "article_title":        {"name": "article_title",       "xpath": "//*[contains(@class,'QuestionHeader-title')]", "parse": [{"type": "text"},{"type": "sub", "from": "\\s+", "to": " "}]},
                "visit_count":   {"name": "visit_count",     "xpath": "(//*[contains(@class,'NumberBoard-value')])[2]/text()", "regex": "[0-9]+", "default": 0},
                "favorite_count":   {"name": "favorite_count",     "xpath": "(//*[contains(@class,'NumberBoard-value')])[1]/text()", "regex": "[0-9]+", "default": 0},
                "reply_count":  {"name": "reply_count",     "xpath": "//*[contains(@class,'QuestionHeader-Comment')]//button/text()", "regex": "[0-9]+", "default": 0},
                "article_url":      {"name": "article_url",     "value": "${URL}"},
                "article_content":      {"name": "article_content",     "xpath": "//*[contains(@class,'QuestionHeader-detail')]", "parse": [{"type": "clean"},{"type": "text"},{"type": "sub", "from": "\\s+", "to": " "}]}
        }

    },

    "settings" : {

                "mysql": "mysql://root:logis2017@localhost:33306/db_data.data_logistics_comments",
                "download_timeout": 30,
                "download_delay": 5

    }

}
