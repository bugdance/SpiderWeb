{
    "site"    : "前程无忧",

    "domains" : ["51job.com"],

    "urls"    : [
        "http://jobs.51job.com/suanfagongchengshi/",
        "http://jobs.51job.com/xitongfenxi/",
        "http://jobs.51job.com/xitongjiagou/",
        "http://jobs.51job.com/shujukuguanli/",
        "http://jobs.51job.com/yewufenxijingli/",
        "http://jobs.51job.com/yewufenxizhuli/",
        "http://jobs.51job.com/caiwufenxijingli/",
        "http://jobs.51job.com/caiwufenxiyuan/",
        "http://jobs.51job.com/zhengquanfenxishi/",
        "http://jobs.51job.com/touziyinhangcaiwufenxi/",
        "http://jobs.51job.com/linchuangshuju/"
    ],


    "rules": {
        "#1": {
            "follow": false,
            "xpath": "//*[contains(@class,'filter')]//*[contains(.//p,'主要城市')]//*[contains(@class,'close')]"
        },
        "#2": {
            "follow": null,
            "xxxxpath": "//div[contains(@id,'cppageno')]",
            "xpath": "//div[contains(@id,'cppageno')]//a[contains(.,'下一页')]"
        }
    },


    "xxxloop": "//div[contains(@class,'detlist')]//div[contains(@class,'e')]",
    "loop": "//div[contains(@class,'detlist')]//div[contains(@class,'e') and contains(.//*[contains(@class,'time')],'11-')]",

    "fields": {
                "url":      {"name": "url",     "xpath": ".//*[contains(@class,'title')]//a/@href", "parse": {"type": "continue"}},
                "search_word":  {"name": "search_word",     "value": "all"},
                "search_category":  {"name": "search_category",     "xpath": "//*[contains(@class,'nb')]//*[contains(@class,'lkst')]//a[contains(@class,'mk')]", "parse": [{"type": "text"},{"type": "sub", "from": "\\s+", "to": " "}]},
                "job_category":     {"name": "job_category",  "xpath": "//*[contains(@class,'bmsg') and contains(.,'职能类别')]//*[contains(@class,'fp')][1]", "parse": [{"type": "clean"},{"type": "text"},{"type": "sub", "from": "\\s+", "to": " "},{"type": "sub", "from": "(.*)：(.*)", "to": "\\g<2>"}]},
                "website":  {"name": "website",     "value": "${SITE}"},
                "job_title":    {"name": "job_title",     "xpath": "//*[contains(@class,'tHjob')]//h1", "parse": [{"type": "text"},{"type": "sub", "from": "\\s+", "to": " "}]},
                "company_name":     {"name": "company_name",     "xpath": ".//a[contains(@class,'name')]", "parse": [{"type": "text"},{"type": "sub", "from": "\\s+", "to": " "}]},
                "company_nature":   {"name": "company_nature",     "xpath": ".//*[contains(@class,'order')]/text()[3]", "default": "","parse": [{"type": "text"},{"type": "sub", "from": "\\s+", "to": " "},{"type": "sub", "from": "(.*)：(.*)", "to": "\\g<2>"}]},
                "company_address":  {"name": "company_address",         "value": ""},
                "company_industry":     {"name": "company_industry",    "value": ""},
                "salary":   {"name": "salary",     "xpath": ".//span[contains(@class,'location')][2]", "parse": [{"type": "text"},{"type": "sub", "from": "\\s+", "to": " "}]},
                "company_scale":    {"name": "company_scale",     "xpath": ".//*[contains(@class,'order')]/text()[4]", "default": "", "parse": [{"type": "text"},{"type": "sub", "from": "\\s+", "to": " "},{"type": "sub", "from": "(.*)：(.*)", "to": "\\g<2>"}]},
                "experience":   {"name": "experience",     "xpath": ".//*[contains(@class,'order')]/text()[2]", "default": "", "parse": [{"type": "text"},{"type": "sub", "from": "\\s+", "to": " "},{"type": "sub", "from": "(.*)：(.*)", "to": "\\g<2>"}]},
                "education":    {"name": "education",     "xpath": ".//*[contains(@class,'order')]/text()[1]", "default": "", "parse": [{"type": "text"},{"type": "sub", "from": "\\s+", "to": " "},{"type": "sub", "from": "(.*)：(.*)", "to": "\\g<2>"}]},
                "work_nature":  {"name": "work_nature",    "value": ""},
                "recruiting":   {"name": "recruiting",     "value": ""},
                "address":  {"name": "address",     "xpath": ".//span[contains(@class,'name')]", "default": "", "parse": [{"type": "text"},{"type": "sub", "from": "\\s+", "to": " "}]},
                "ability":  {"name": "ability",     "xpath": "//*[contains(@class,'tBorderTop_box') and contains(.,'职位信息')]", "parse": [{"type": "clean"},{"type": "text"},{"type": "sub", "from": "\\s+", "to": " "}]},
                "release_time":     {"name": "release_time",     "xpath": "concat('2017-',.//span[contains(@class,'time')])", "parse": [{"type": "clean"},{"type": "text"},{"type": "sub", "from": "\\s+", "to": " "}]}
    },

    "continue": {
        "fields": {
                "url":      {"name": "url",     "value": "${URL}"},
                "job_category":     {"name": "job_category",  "xpath": "//*[contains(@class,'bmsg') and contains(.,'职能类别')]//*[contains(@class,'fp')][1]", "parse": [{"type": "clean"},{"type": "text"},{"type": "sub", "from": "\\s+", "to": " "},{"type": "sub", "from": "(.*)：(.*)", "to": "\\g<2>"}]},
                "job_title":    {"name": "job_title",     "xpath": "//*[contains(@class,'tHjob')]//h1", "parse": [{"type": "text"},{"type": "sub", "from": "\\s+", "to": " "}]},
                "company_address":  {"name": "company_address",     "xpath": "//*[contains(@class,'bmsg') and contains(.,'上班地址')]//*[contains(@class,'fp')]", "parse": [{"type": "clean"},{"type": "text"},{"type": "sub", "from": "\\s+", "to": " "},{"type": "sub", "from": "(.*)：(.*)", "to": "\\g<2>"}]},
                "company_industry":     {"name": "company_industry",     "xpath": "//*[contains(@class,'tHjob')]//*[contains(@class,'ltype')]", "parse": [{"type": "text"},{"type": "sub", "from": "   |  |\\s+|\\|", "to": ""},{"type": "sub", "from": "(.*)人(.*)", "to": "\\g<2>"}]},
                "recruiting":   {"name": "recruiting",     "xpath": "//*[contains(@class,'jtag')]//*[contains(@class,'sp4') and contains(.,'招聘')]", "parse": [{"type": "clean"},{"type": "text"},{"type": "sub", "from": "\\s+", "to": " "}]},
                "ability":  {"name": "ability",     "xpath": "//*[contains(@class,'tBorderTop_box') and contains(.,'职位信息')]", "parse": [{"type": "clean"},{"type": "text"},{"type": "sub", "from": "\\s+", "to": " "}]}
        }


    },

    "xproxy": {
        "file": "/home/proxy/proxy.txt",
        "rate": 1
        },

    "settings" : {

                "download_timeout": 30,
                "download_delay": 5,
                "mysql": "mysql://root:logis2017@localhost:33306/db_data.data_bigdata_jobs"


    }

}
